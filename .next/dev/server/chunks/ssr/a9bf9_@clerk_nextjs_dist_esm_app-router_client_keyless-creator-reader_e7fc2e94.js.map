{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/LaCie/ai_prod/saas/node_modules/%40clerk/nextjs/src/app-router/client/keyless-creator-reader.tsx"],"sourcesContent":["import { useSelectedLayoutSegments } from 'next/navigation';\nimport React, { useEffect } from 'react';\n\nimport type { NextClerkProviderProps } from '../../types';\nimport { createOrReadKeylessAction } from '../keyless-actions';\n\nexport const KeylessCreatorOrReader = (props: NextClerkProviderProps) => {\n  const { children } = props;\n  const segments = useSelectedLayoutSegments();\n  const isNotFoundRoute = segments[0]?.startsWith('/_not-found') || false;\n  const [state, fetchKeys] = React.useActionState(createOrReadKeylessAction, null);\n  useEffect(() => {\n    if (isNotFoundRoute) {\n      return;\n    }\n    React.startTransition(() => {\n      fetchKeys();\n    });\n  }, [isNotFoundRoute]);\n\n  if (!React.isValidElement(children)) {\n    return children;\n  }\n\n  return React.cloneElement(children, {\n    key: state?.publishableKey,\n    publishableKey: state?.publishableKey,\n    __internal_keyless_claimKeylessApplicationUrl: state?.claimUrl,\n    __internal_keyless_copyInstanceKeysUrl: state?.apiKeysUrl,\n    __internal_bypassMissingPublishableKey: true,\n  } as any);\n};\n"],"names":[],"mappings":";;;;AAAA,SAAS,iCAAiC;AAC1C,OAAO,SAAS,iBAAiB;AAGjC,SAAS,iCAAiC;;;;;AAEnC,MAAM,yBAAyB,CAAC,UAAkC;IANzE,IAAA;IAOE,MAAM,EAAE,QAAA,CAAS,CAAA,GAAI;IACrB,MAAM,eAAW,wJAAA,CAA0B;IAC3C,MAAM,kBAAA,CAAA,CAAkB,KAAA,QAAA,CAAS,CAAC,CAAA,KAAV,OAAA,KAAA,IAAA,GAAa,UAAA,CAAW,cAAA,KAAkB;IAClE,MAAM,CAAC,OAAO,SAAS,CAAA,GAAI,8GAAA,CAAM,cAAA,CAAe,6MAAA,EAA2B,IAAI;IAC/E,IAAA,gHAAA,EAAU,MAAM;QACd,IAAI,iBAAiB;YACnB;QACF;QACA,8GAAA,CAAM,eAAA,CAAgB,MAAM;YAC1B,UAAU;QACZ,CAAC;IACH,GAAG;QAAC,eAAe;KAAC;IAEpB,IAAI,CAAC,8GAAA,CAAM,cAAA,CAAe,QAAQ,GAAG;QACnC,OAAO;IACT;IAEA,OAAO,8GAAA,CAAM,YAAA,CAAa,UAAU;QAClC,KAAK,SAAA,OAAA,KAAA,IAAA,MAAO,cAAA;QACZ,gBAAgB,SAAA,OAAA,KAAA,IAAA,MAAO,cAAA;QACvB,+CAA+C,SAAA,OAAA,KAAA,IAAA,MAAO,QAAA;QACtD,wCAAwC,SAAA,OAAA,KAAA,IAAA,MAAO,UAAA;QAC/C,wCAAwC;IAC1C,CAAQ;AACV"}}]
}